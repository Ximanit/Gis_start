<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>2GIS Map API</title>
    <meta name="description" content="Example of a geolocation" />
    <link rel="stylesheet" href="/style/style.css">
</head>

<body>
    <div id="container"></div>
    <script src="https://mapgl.2gis.com/api/js/v1"></script>
    <script>
        const map = new mapgl.Map('container', {
            center: [137.00395936927842, 50.54691620051855],
            zoom: 18,
            key: 'bfd8bbca-8abf-11ea-b033-5fa57aae2de7',
        });

        const controlContent = `
                <div class="buttonRoot" id="find-me">
                    <button class="button">
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="32"
                            height="32"
                            viewBox="0 0 32 32"
                        >
                            <path
                                fill="currentColor"
                                d="M17.89 26.27l-2.7-9.46-9.46-2.7 18.92-6.76zm-5.62-12.38l4.54 1.3 1.3 4.54 3.24-9.08z"
                            />
                        </svg>
                    </button>
                </div>
                <p id="status"></p>
            `;

        const control = new mapgl.Control(map, controlContent, {
            position: 'topLeft',
        });
      
        const status = control.getContainer().querySelector('#status');
        let circle;

        function success(pos) {
            const center = [pos.coords.longitude, pos.coords.latitude];

            status.textContent = '';
            if (circle) {
                circle.destroy();
            }

            circle = new mapgl.CircleMarker(map, {
                coordinates: center,
                radius: 14,
                color: '#0088ff',
                strokeWidth: 4,
                strokeColor: '#ffffff',
                stroke2Width: 6,
                stroke2Color: '#0088ff55',
            });
            map.setCenter(center);
            map.setZoom(16);
        }

        function error() {
            status.textContent = 'Unable to retrieve your location';
        }

        function geoFindMe() {
            if (!navigator.geolocation) {
                status.textContent = 'Geolocation is not supported by your browser';
            } else {
                status.textContent = 'Locating…';
                navigator.geolocation.getCurrentPosition(success, error);
            }
        }
        const circleMarker = new mapgl.Circle(map, {
            coordinates: [137.00395936927842, 50.54691620051855],
            radius: 200,
            color: '#ff000055',
            strokeWidth: 2,
            strokeColor: '#ffffff',
        });
        control
            .getContainer()
            .querySelector('#find-me')
            .addEventListener('click', geoFindMe);
        
    </script>
</body>

</html>


<!-- <!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Быстрый старт. Размещение интерактивной карты на странице</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <script src="https://api-maps.yandex.ru/2.1/?apikey=ваш API-ключ&lang=ru_RU" type="text/javascript">
    </script>
    <script type="text/javascript">
        ymaps.ready(init);
        function init(){
            var myMap = new ymaps.Map("map", {
                center: [50.54691620051855,137.00395936927842],
                zoom: 18
            });
        }
    </script>
</head>

<body>
    <div id="map" style="width: 100%; height: 100%"></div>
</body>
</html> -->